{% extends "base.html" %}
{% block content %}
<script type="text/javascript" class="init">
        $(document).ready(function() {
	    $('#table_id').DataTable( {
		select: true
	        } );
        } );
</script>
<div class="column is-10" id="page-content">
        <section class="hero">
  <div class="content has-text-left">
    <h2 class="title is-4"><span class="icon"><i class="fa fa-tasks"></i></span><strong>History</strong></h2>
  </div>
</section>
    <div class="tabs is-left">
  <ul>
    <li class="is-active" id="all-tab">
      <a onClick="switchToAll()">
        <span class="icon is-small"><i class="fa fa-tasks" aria-hidden="true"></i></span>
        <span>Task</span>
      </a>
    </li>
    <li id="adaptivedesign-tab">
      <a onClick="switchToAdaptiveDesign()">
        <span class="icon is-small"><i class="fa fa-file-text" aria-hidden="true"></i></span>
        <span>Logging</span>
      </a>
    </li>
  </ul>
</div>
<div class="content-body">
                    </div>
    <div id="all-tab-content">
    <div class="table-container">
        <table id="table_id" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Task name</th>
                <th>Host</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
        {% for item in items %}
            <tr>
                <td>{{item.name}}</td>
                <td>{{item.host}}</td>
                <td>{{item.time}}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
        </div>
    <div class="is-hidden" id="adaptivedesign-tab-content">
        {% for item in logs %}
        <p>{{item}}</p>
        {% endfor %}
</div>
</div>
<script>
    function switchToAll() {
      removeActive();
      hideAll();
      $("#all-tab").addClass("is-active");
      $("#all-tab-content").removeClass("is-hidden");
    }
    function switchToAdaptiveDesign() {
      removeActive();
      hideAll();
      $("#adaptivedesign-tab").addClass("is-active");
      $("#adaptivedesign-tab-content").removeClass("is-hidden");
    }
    function removeActive() {
      $("li").each(function() {
        $(this).removeClass("is-active");
      });
    }
    function hideAll(){
      $("#all-tab-content").addClass("is-hidden");
      $("#adaptivedesign-tab-content").addClass("is-hidden");
    }
  </script>
{% endblock %}